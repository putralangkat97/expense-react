import{j as e,U as N,b as w,r as a,V as M,h as I}from"./app-CFT4YXQV.js";import{C}from"./Toast-Cunsijb3.js";import{T as A,I as j}from"./TextInput-BT-ZjKaK.js";import{P as F}from"./PrimaryButton-DFwe4tdw.js";const R=({data:s})=>{const o=new C;return e.jsx(N,{as:"button",href:route("account.view",s.id),className:"btn card card-compact mx-auto h-40 w-full border-x-2 border-b-4 border-t-2 border-primary bg-base-200",children:e.jsxs("div",{className:"card-body flex w-full flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-col items-start justify-end",children:[e.jsx("div",{className:"text-sm",children:"Total Balance"}),e.jsx("div",{className:"mb-2 text-xl font-bold",children:o.formatCurrency(s.balance)})]}),e.jsx("div",{className:"font-bold",children:s.name})]})})},U=({accountData:s=null,closeModal:o})=>{const{data:c,setData:n,post:m,patch:r,processing:i,errors:u,reset:f}=w({name:s?s.name:"",balance:s?s.balance:"",accountId:s?s.id:null}),l=()=>{f("name","balance","accountId"),o()},p=t=>{t.preventDefault(),s?r(route("account.update",s.id),{preserveScroll:!0,onFinish:l}):m(route("account.store"),{preserveScroll:!0,onFinish:l})};return e.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 gap-1",children:[e.jsxs("div",{children:[e.jsx(A,{placeholder:"account name",className:"mt-1 block w-full",value:c.name,onChange:t=>n("name",t.target.value)}),e.jsx(j,{message:u.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{type:"number",placeholder:"Rp. 0",className:"mt-1 block w-full",value:c.balance,onChange:t=>n("balance",t.target.value)}),e.jsx(j,{message:u.balance,className:"mt-1"})]}),s&&e.jsx("input",{type:"hidden",value:c.accountId}),e.jsx("div",{className:"mt-2",children:e.jsx(F,{className:"btn-block",disabled:i,children:i?"Saving...":"Save"})})]})},V=(s={})=>{const{initialAccountAccountModalTitle:o="Modal Title"}=s,[c,n]=a.useState(!1),[m,r]=a.useState(null),[i,u]=a.useState(o),[f,l]=a.useState(!1),[p,t]=a.useState(""),[g,x]=a.useState(""),[S,b]=a.useState(!1),{flash:d}=M().props;return a.useEffect(()=>{if(d.message){t(d.message),x(d.type),b(!0);const h=setTimeout(()=>{b(!1),I.visit(window.location.href,{preserveState:!0,preserveScroll:!0,only:["flash"],data:{flash:{message:null,type:null}}})},3e3);return()=>clearTimeout(h)}},[d]),{isAccountModalOpen:c,selectedAccount:m,accountModalTitle:i,isAccountForm:f,accountToastMessage:p,accountToastType:g,showAccountToast:S,openAccountModal:(h=o,v=null,T=null,y=!1)=>{n(!0),u(h),T==="account-detail"?(l(!1),r(v)):(l(!0),y&&r(v))},closeAccountModal:()=>{l(!1),n(!1),u(o),r(null)},setAccountToastMessage:t,setAccountToastType:x,setShowAccountToast:b}};export{R as A,U as a,V as u};
